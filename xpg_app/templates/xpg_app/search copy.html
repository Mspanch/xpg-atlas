<!DOCTYPE html>
<html>
<head>
  <title>Disease Associations — XPG Atlas</title>
  <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
  <style>
    .hit-yes { color: green; font-weight: 600; }
    .hit-no { color: #bbb; }
    .multi-hit { background: #fff7cc; }
  </style>
</head>

<body class="bg-light">

  <div class="container py-5">
    <h2 class="mb-4">Disease Associations Across XPGs</h2>

    <table class="table table-bordered table-hover bg-white">
      <thead class="table-dark">
        <tr>
          <th>Gene</th>
          <th>SFARI</th>
          <th>SCHEMA</th>
          <th>BipEx</th>
          <th>Epi25</th>
          <th>Total Hits</th>
        </tr>
      </thead>

      <tbody>
        {% for row in rows %}
        <tr class="{% if row.hits > 1 %}multi-hit{% endif %}">
          <td><a href="{% url 'gene_detail' row.gene.gene %}">{{ row.gene.gene }}</a></td>

          <td class="{% if row.sfari %}hit-yes{% else %}hit-no{% endif %}">
            {% if row.sfari %}✔{% else %}—{% endif %}
          </td>

          <td class="{% if row.schema %}hit-yes{% else %}hit-no{% endif %}">
            {% if row.schema %}✔{% else %}—{% endif %}
          </td>

          <td class="{% if row.bipex %}hit-yes{% else %}hit-no{% endif %}">
            {% if row.bipex %}✔{% else %}—{% endif %}
          </td>

          <td class="{% if row.epi25 %}hit-yes{% else %}hit-no{% endif %}">
            {% if row.epi25 %}✔{% else %}—{% endif %}
          </td>

          <td><strong>{{ row.hits }}</strong></td>
        </tr>
        {% endfor %}
      </tbody>
    </table>

  </div>
</body>
</html>
